# Figure 1 Panel A Exports for DrawIO

This directory contains standalone exports of the WASP2 architecture diagram
(Panel A from Figure 1) in formats optimized for DrawIO import and manual polish.

## Available Formats

| File | Format | Resolution | Best For |
|------|--------|------------|----------|
| `panel_a_standalone.svg` | SVG | Vector | DrawIO import, editing |
| `panel_a_standalone.png` | PNG | 600 DPI | Presentations, documentation |
| `panel_a_standalone.pdf` | PDF | Vector | Publication, archival |

## Importing SVG into DrawIO

### Method 1: Direct Import (Recommended)

1. Open DrawIO (https://app.diagrams.net or desktop application)
2. Create a new diagram or open an existing one
3. Go to **File > Import From > Device**
4. Select `panel_a_standalone.svg`
5. Click **Open**

The diagram will be imported as a grouped object.

### Method 2: Drag and Drop

1. Open the exports folder in your file manager
2. Drag `panel_a_standalone.svg` directly onto the DrawIO canvas

## Ungrouping Elements for Editing

After import, the diagram is a single grouped object. To edit individual elements:

1. **Select** the imported diagram (click on it)
2. **Ungroup** using one of these methods:
   - Right-click > Ungroup
   - Menu: Arrange > Ungroup
   - Keyboard: `Ctrl+Shift+U` (Windows/Linux) or `Cmd+Shift+U` (Mac)
3. **Repeat** ungrouping as needed - complex diagrams may have nested groups
4. Individual boxes, text, and arrows are now independently editable

### Tips for Editing

- **Moving elements**: Click and drag individual shapes
- **Editing text**: Double-click on any text element
- **Changing colors**: Select element > Format panel (right side) > Fill/Line color
- **Resizing**: Select element > drag corner handles
- **Copying styles**: Right-click > Copy Style, then Right-click > Paste Style

## Color Reference

The diagram uses a colorblind-safe palette (Paul Tol bright):

| Component | Border Color | Fill Color |
|-----------|--------------|------------|
| Component 1 (Read Filtering) | `#4477AA` | `#DCE9F4` |
| Component 2 (Variant Counting) | `#228833` | `#D9EDDB` |
| Component 3 (AI Detection) | `#CCBB44` | `#F5F2DC` |
| Single-cell features | `#AA3377` | `#F4E4ED` |
| Container box | `#B8C9DC` | `#F5F8FC` |
| Input/Output boxes | `#555555` | `#E8E8E8` |

## Exporting Back to Publication Format

After making edits in DrawIO:

### For PNG (raster)

1. Go to **File > Export As > PNG**
2. Set **Width** to at least 4200 pixels (for 600 DPI at 7 inches)
3. Check **Transparent Background** if needed (or leave unchecked for white)
4. Click **Export**

### For PDF (vector)

1. Go to **File > Export As > PDF**
2. Ensure **Crop** is checked to remove excess whitespace
3. Click **Export**

### For SVG (vector, web use)

1. Go to **File > Export As > SVG**
2. Check **Embed Images** if the diagram includes raster elements
3. Click **Export**

## Regenerating Exports

To regenerate these exports from the source code:

```bash
cd paper/figure1/scripts
python export_panel_a_for_drawio.py
```

## Source File

The architecture diagram is generated by:
- `paper/figure1/scripts/generate_figure1.py` (function: `panel_a_architecture`)

## Notes

- The WASP2 logo is embedded as a raster image; it may need to be replaced or
  adjusted separately in DrawIO
- Font rendering may vary slightly between systems; Arial is the target font
- For Nature Methods submission, ensure final exports are 300 DPI minimum
