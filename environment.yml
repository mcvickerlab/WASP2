name: WASP2
channels:
  - bioconda
  - conda-forge
  - defaults
dependencies:
  # Core Python
  - python=3.11.*

  # Data processing
  - numpy
  - pandas>=1.5,<2.0  # Pin <2.0 for anndata compatibility (see issue #6)
  - polars>=0.19  # Pin minimum version for stable API
  - scipy

  # Bioinformatics
  - pysam
  - pybedtools
  - bedtools
  - bcftools
  - samtools>=1.10  # Required for collate -T option (indel processing)
  - htslib>=1.10
  - bwa  # Required for remapping step
  - anndata>=0.8,<0.10  # Pin for pandas <2.0 compatibility
  - plink2  # For PGEN file format support

  # CLI
  - typer
  - rich
  - typing_extensions

  # Testing
  - pytest>=7.0
  - pytest-cov

  # Type checking
  - mypy

  # Rust build tools
  - rust
  - libclang
  - clang

  # Pip dependencies
  - pip
  - pip:
    - Pgenlib>=0.90  # Python bindings for PGEN format
    - maturin>=1.4
