# WASP2 Benchmark Environment
# ============================
# Single environment for ALL benchmarks to ensure fair comparison.
#
# Recreate: conda env create -f environment.yml
# Activate: conda activate wasp2_benchmark
#
# For exact reproducibility, generate a lockfile:
#   conda-lock -f environment.yml -p linux-64
#
# Benchmarks using this environment:
#   - WASP2-Rust unified pipeline
#   - WASP1 (Python) pipeline
#   - STAR+WASP integrated pipeline
#   - GATK ASEReadCounter
#   - phASER

name: wasp2_benchmark

channels:
  # Use conda-forge and bioconda only (avoid defaults due to Anaconda licensing)
  - conda-forge
  - bioconda

dependencies:
  # Python runtime
  - python=3.10.12

  # Alignment tools
  - star=2.7.11b              # RNA-seq aligner
  - bwa=0.7.17                # DNA aligner (ATAC-seq)

  # BAM/VCF tools
  - samtools=1.19.2
  - bcftools=1.19
  - htslib=1.19.1
  - bedtools=2.31.0

  # Python packages
  - pysam=0.21.0              # BAM/VCF Python API
  - numpy=1.26.0
  - pytables=3.10.1           # HDF5 (WASP1 snp2h5)
  - h5py=3.11.0

  # Comparison tools
  - gatk4=4.0.5.1             # GATK ASEReadCounter

  # Build tools (for WASP2-Rust)
  - pip
  - pip:
    - maturin>=1.0.0

# Post-install steps:
# 1. Build WASP2-Rust module:
#      cd rust && maturin develop --release
# 2. WASP1 scripts are in benchmarking/wasp1_source/
# 3. phASER is in benchmarking/phaser_tool/
