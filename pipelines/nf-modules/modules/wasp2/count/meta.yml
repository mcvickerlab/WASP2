name: "wasp2_count"
description: Count allele-specific reads at heterozygous variant sites using WASP2
keywords:
  - allele-specific
  - variant
  - counting
  - rna-seq
  - atac-seq
  - wasp

tools:
  - wasp2:
      description: |
        WASP2 is a tool for allele-specific analysis of next-generation sequencing data
        with high-performance multi-format variant support (VCF/cyvcf2/PGEN).
      homepage: https://github.com/mcvickerlab/WASP2
      documentation: https://mcvickerlab.github.io/WASP2/
      tool_dev_url: https://github.com/mcvickerlab/WASP2
      licence: ["MIT"]

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information.
        e.g. `[ id:'sample1', sample:'NA12878' ]`
  - bam:
      type: file
      description: Coordinate-sorted BAM file
      pattern: "*.{bam}"
  - bai:
      type: file
      description: BAM index file
      pattern: "*.{bai}"
  - meta2:
      type: map
      description: |
        Groovy Map containing VCF information.
        e.g. `[ id:'variants' ]`
  - vcf:
      type: file
      description: VCF file with genotype information (can be VCF, VCF.GZ, BCF, or PGEN)
      pattern: "*.{vcf,vcf.gz,bcf,pgen}"
  - vcf_index:
      type: file
      description: VCF index file (TBI for VCF.GZ, CSI for BCF)
      pattern: "*.{tbi,csi}"
  - regions:
      type: file
      description: |
        Optional region file to restrict counting.
        Supports BED, narrowPeak, broadPeak, GTF, or GFF3 formats.
      pattern: "*.{bed,narrowPeak,broadPeak,gtf,gff3}"

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information.
        e.g. `[ id:'sample1', sample:'NA12878' ]`
  - counts:
      type: file
      description: |
        TSV file with allele counts per variant site.
        Columns: chrom, pos, ref, alt, [region], ref_count, alt_count, other_count
      pattern: "*.counts.tsv"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"

authors:
  - "@Jaureguy760"
maintainers:
  - "@Jaureguy760"
