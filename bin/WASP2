#!/usr/bin/env python
"""
Entry point for the WASP2 CLI.

This script attempts to import the WASP2 CLI's main function from your installed package.
If the package is not installed (e.g. when running locally), it adjusts sys.path to include
the "src" directory so that the WASP2 package can be found. Then, it calls the main function
to start the CLI.
"""

import sys
import os
from typing import NoReturn

# Attempt to import the actual CLI from your package
try:
    from wasp2.cli import main as wasp2_main
except ImportError:
    # Fallback if running locally without installing.
    # Add the src path so 'wasp2' package is found.
    current_dir = os.path.dirname(os.path.abspath(__file__))
    project_root = os.path.join(current_dir, "..", "src")
    sys.path.append(project_root)
    from wasp2.cli import main as wasp2_main

def main() -> NoReturn:
    """
    Run the WASP2 CLI by invoking the main function.

    This function calls the WASP2 CLI's main function, which handles the dispatch
    to the appropriate subcommands, and then exits the program.
    """
    wasp2_main()
    sys.exit(0)

if __name__ == "__main__":
    main()
